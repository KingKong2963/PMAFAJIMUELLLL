<%- include('partials/header') %>

<style>
  /* --- Hero Section --- */
    #about-hero {
    /* This ensures the background image fits the full screen width without zooming */
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    background-color: #f8f9fc; /* fallback color that matches the gradient */
  }


  /* --- Timeline Enhancements --- */
  .timeline-container {
    position: relative;
    padding: 2rem 0;
  }
  

  /* The central line of the timeline */
  .timeline-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 3px;
    height: 100%;
    background-color: #e5e7eb; /* tailwind gray-200 */
    border-radius: 3px;
  }

  .timeline-item {
    padding: 10px 40px;
    position: relative;
    width: 50%;
  }

  .timeline-item.left {
    left: 0;
  }

  .timeline-item.right {
    left: 50%;
  }

  .timeline-item::after {
    content: '';
    position: absolute;
    width: 24px;
    height: 24px;
    top: 24px;
    background-color: white;
    border: 5px solid #4f46e5; /* tailwind indigo-600 */
    border-radius: 50%;
    z-index: 1;
  }

  .timeline-item.left::after {
    right: -12px;
  }

  .timeline-item.right::after {
    left: -12px;
  }

  .timeline-content {
    padding: 1.5rem;
    background-color: #ffffff;
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    position: relative;
    border: 1px solid #f3f4f6; /* tailwind gray-100 */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .timeline-content:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  @media screen and (max-width: 768px) {
    .timeline-container::before {
      left: 12px;
    }
    .timeline-item {
      width: 100%;
      padding-left: 50px;
      padding-right: 15px;
    }
    .timeline-item.right {
      left: 0%;
    }
    .timeline-item.left::after,
    .timeline-item.right::after {
      left: 0;
    }
  }

  /* Simple fade-in animations */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in { animation: fade-in 0.8s ease-out forwards; }

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-slide-up { animation: slide-up 0.8s ease-out 0.2s forwards; }
</style>

<main>
<% if (typeof historyData !== 'undefined' && historyData) { %>

  <section id="about-hero" class="relative h-screen flex items-center justify-center text-white" style="background-image: url('<%= historyData.hero?.backgroundImage ?? '/images/about-hero.jpg' %>')">
    <div class="absolute inset-0 bg-gradient-to-r from-blue-900/80 to-indigo-900/70 z-10"></div>
    <div class="container mx-auto text-center relative z-20 px-4">
      <h1 class="text-4xl md:text-6xl font-bold mb-4 animate-fade-in" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.5);"><%= historyData.hero?.title ?? 'Our History' %></h1>
      <p class="text-lg md:text-xl max-w-3xl mx-auto animate-slide-up"><%= historyData.hero?.subtitle ?? 'Discover the journey and milestones of our organization.' %></p>
    </div>
  </section>

  <section class="py-20 md:py-24 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-16">
          <i class="fas fa-scroll text-5xl text-indigo-600 mb-4"></i>
          <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4"><%= historyData.content?.title ?? 'Our Journey Through Time' %></h2>
          <div class="w-24 h-1 bg-indigo-500 mx-auto rounded-full"></div>
        </div>

        <% if(historyData.content?.timelineEvents && historyData.content.timelineEvents.length > 0) { %>
          <div class="timeline-container">
            <% historyData.content.timelineEvents.forEach((event, index) => { %>
              <% const position = index % 2 === 0 ? 'left' : 'right'; %>
              <div class="timeline-item <%= position %>">
                <div class="timeline-content">
                   <div class="flex items-center mb-3">
                     <span class="flex items-center justify-center w-8 h-8 bg-indigo-100 rounded-full mr-3">
                       <i class="fas fa-calendar-alt text-indigo-600"></i>
                     </span>
                     <h3 class="text-2xl font-semibold text-gray-900"><%= event.year ?? 'Year' %></h3>
                   </div>
                  <h4 class="text-xl font-bold text-indigo-700 mb-2"><%= event.title ?? 'Milestone' %></h4>
                  <p class="text-gray-600 leading-relaxed"><%= event.description ?? 'Description needed.' %></p>
                </div>
              </div>
            <% }) %>
          </div>
        <% } else { %>
          <p class="text-center text-gray-500 italic">No history events have been defined yet.</p>
        <% } %>
      </div>
    </div>
  </section>

<% } else { %>
  <section class="py-16 md:py-24 bg-white">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-2xl font-semibold text-red-600">Content Unavailable</h2>
      <p class="text-gray-600 mt-4">We couldn't load the page content. Please try again later.</p>
    </div>
  </section>
<% } %>
</main>

<footer class="bg-gray-800 text-white py-8">
  <div class="container mx-auto text-center">
    <p>Â© 2025 PMAFA. All rights reserved.</p>
  </div>
</footer>
</body>
</html>